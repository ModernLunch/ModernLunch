<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Lunch Package â€“ Ãœbungsfirma</title>

    <!-- Schriftarten & Icons -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, #fceabb, #f8b500);
            margin: 0;
            padding: 0;
            color: #333;
        }
        header {
            background: #ff6f61;
            color: white;
            padding: 20px;
            text-align: center;
            border-bottom: 5px solid #c0392b;
        }
        header img {
            width: 150px;
            height: auto;
            margin-bottom: 10px;
        }
        .lang-select button {
            background: white;
            border: none;
            padding: 8px 14px;
            border-radius: 10px;
            margin: 5px;
            cursor: pointer;
            font-weight: bold;
            color: #ff6f61;
        }
        .container {
            max-width: 900px;
            margin: 30px auto;
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
            transition: 0.5s;
        }
        .hide {
            opacity: 0;
            transform: translateY(50px);
            pointer-events: none;
        }
        h2 {
            color: #ff6f61;
            margin-top: 0;
        }
        form input, form select {
            width: 100%;
            padding: 12px;
            margin: 10px 0;
            border: 2px solid #ff6f61;
            border-radius: 12px;
            font-size: 16px;
        }
        button {
            background: #ff6f61;
            color: white;
            padding: 14px 24px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 18px;
            transition: background 0.3s;
        }
        button:hover {
            background: #c0392b;
        }
        .question-block {
            margin-bottom: 20px;
        }
        @media (max-width: 600px) {
            header img { width: 120px; }
            .container { margin: 15px; padding: 20px; }
            button { width: 100%; }
        }
    </style>
</head>
<body>

<header>
    <img src="logo.png" alt="HAK TAK Logo" />
    <h1 id="title">Lunch Package â€“ Ãœbungsfirma</h1>
    <p id="subtitle">ğŸ‰ Bestellseite fÃ¼r den Tag der offenen TÃ¼r ğŸ‰</p>
    <div class="lang-select">
        <button onclick="setLanguage('de')">Deutsch</button>
        <button onclick="setLanguage('sl')">SlovenÅ¡Äina</button>
    </div>
</header>

<div class="container" id="intro">
    <h2 id="introTitle">ğŸ¥ª Jausenpakete bestellen</h2>
    <p id="introText">WÃ¤hle dein Lieblingspaket und fÃ¼lle das Bestellformular aus!</p>
</div>

<div class="container" id="orderForm">
    <h2 id="formTitle">ğŸ“ Bestellformular</h2>
    <form id="form">
        <label for="name" id="nameLabel">Name:</label>
        <input id="name" type="text" name="name" required>

        <label for="email" id="emailLabel">E-Mail Adresse:</label>
        <input id="email" type="email" name="email" required>

        <label for="package" id="packageLabel">Jausenpaket wÃ¤hlen:</label>
        <select id="package" name="package" required>
            <option value="">Bitte wÃ¤hlen...</option>
            <option value="Classic">ğŸ¥– Classic</option>
            <option value="Fitness">ğŸ’ª Fitness</option>
            <option value="SÃ¼ÃŸ & Knackig">ğŸ© SÃ¼ÃŸ & Knackig</option>
        </select>

        <label for="menge" id="quantityLabel">Menge / KoliÄina:</label>
        <input id="menge" type="number" name="menge" min="1" required>

        <button type="button" id="nextBtn" onclick="goToQuestions()">Weiter / Naprej</button>
    </form>
</div>

<div class="container hide" id="questions">
    <h2 id="questionsTitle">â“ Wirtschaftsfragen</h2>
    <p id="questionsText">Bitte beantworte die drei Fragen mit Ja oder Nein.</p>

    <div class="question-block">
        <label id="q1Label">1. Ist Angebot und Nachfrage wichtig fÃ¼r die Preisbildung?</label><br>
        <input type="radio" name="q1" value="Ja"> Ja
        <input type="radio" name="q1" value="Nein"> Nein
    </div>

    <div class="question-block">
        <label id="q2Label">2. Ist Wasser ein kostenloses Gut?</label><br>
        <input type="radio" name="q2" value="Ja"> Ja
        <input type="radio" name="q2" value="Nein"> Nein
    </div>

    <div class="question-block">
        <label id="q3Label">3. Ist Arbeitsteilung wichtig?</label><br>
        <input type="radio" name="q3" value="Ja"> Ja
        <input type="radio" name="q3" value="Nein"> Nein
    </div>

    <button onclick="submitAll()" id="submitBtn">Bestellung abschlieÃŸen</button>
</div>

<div class="container hide" id="confirmation">
    <h2 id="confirmTitle">âœ… BestÃ¤tigung</h2>
    <p id="confirmText"></p>
    <div id="qrcode" style="margin-top:20px; text-align:center;"></div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<script>
const translations = {
    sl: {
        title: 'Lunch Package â€“ Vaja podjetje',
        subtitle: 'ğŸ‰ Stran za naroÄila ğŸ‰',
        introTitle: 'ğŸ¥ª NaroÄanje malic',
        introText: 'Izberi svojo najljubÅ¡o malico!',
        formTitle: 'ğŸ“ Obrazec za naroÄilo',
        nameLabel: 'Ime:',
        emailLabel: 'E-poÅ¡tni naslov:',
        packageLabel: 'Izberi malico:',
        quantityLabel: 'KoliÄina:',
        nextBtn: 'Naprej',
        questionsTitle: 'â“ Gospodarska vpraÅ¡anja',
        questionsText: 'Odgovori na vsa vpraÅ¡anja.',
        q1Label: '1. Ali ponudba in povpraÅ¡evanje doloÄata ceno?',
        q2Label: '2. Ali je voda brezplaÄno dobro?',
        q3Label: '3. Ali delitev dela poveÄa uÄinkovitost?',
        submitBtn: 'ZakljuÄi naroÄilo',
        confirmTitle: 'Potrditev'
    }
};

function setLanguage(lang) {
    if (lang === 'sl') {
        for (const key in translations.sl) {
            if (document.getElementById(key)) {
                document.getElementById(key).innerText = translations.sl[key];
            }
        }
        document.getElementById("nextBtn").innerText = translations.sl.nextBtn;
        document.getElementById("submitBtn").innerText = translations.sl.submitBtn;
    } else {
        location.reload();
    }
}

function goToQuestions() {
    let form = document.getElementById("form");
    if (!form.reportValidity()) return;
    document.getElementById("orderForm").classList.add("hide");
    setTimeout(() => {
        document.getElementById("questions").classList.remove("hide");
    }, 500);
}

function submitAll() {
    // Validierung der Fragen
    if (![...document.querySelectorAll('input[name="q1"]:checked')].length ||
        ![...document.querySelectorAll('input[name="q2"]:checked')].length ||
        ![...document.querySelectorAll('input[name="q3"]:checked')].length) {
        alert("Bitte alle Fragen beantworten!");
        return;
    }

    let name = document.querySelector('input[name="name"]').value;
    let email = document.querySelector('input[name="email"]').value;
    let paket = document.querySelector('select[name="package"]').value;
    let menge = document.querySelector('input[name="menge"]').value;

    document.getElementById("questions").classList.add("hide");
    setTimeout(() => {
        document.getElementById("confirmation").classList.remove("hide");
    }, 500);

    document.getElementById("confirmText").innerHTML =
        `Vielen Dank, <b>${name}</b>! ğŸ‰<br>
         Deine Bestellung <b>${menge} Ã— ${paket}</b> wurde gespeichert.<br>
         Eine BestÃ¤tigung wurde an <b>${email}</b> gesendet.`;

    // QR-Code generieren
    document.getElementById("qrcode").innerHTML = "";
    new QRCode(document.getElementById("qrcode"), {
        text: `Bestellung: ${name}, ${menge} Ã— ${paket}`,
        width: 180,
        height: 180
    });
}
</script>
</body>
</html>
